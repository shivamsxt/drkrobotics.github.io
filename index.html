import React, { useEffect, useState } from "react";

// Converted to a proper React + TypeScript component to avoid "Unexpected token" when environment
// expects a .tsx file. This is a single-file component suitable for use as `App.tsx` or `index.tsx`.
// Replace email and github links where needed.

export default function Portfolio(): JSX.Element {
  const [dark, setDark] = useState(false);
  const [year, setYear] = useState<string>(new Date().getFullYear().toString());

  useEffect(() => {
    setYear(new Date().getFullYear().toString());
  }, []);

  // helper to smooth-scroll to section ids
  const scrollTo = (id: string) => {
    const el = document.getElementById(id);
    if (el) el.scrollIntoView({ behavior: "smooth" });
  };

  return (
    <div className={dark ? "dark bg-slate-900 text-white min-h-screen" : "bg-gray-50 text-gray-900 min-h-screen"}>
      {/* Tailwind should be included globally in your app (postcss/tailwind config). */}

      <header className="bg-white dark:bg-slate-800 shadow">
        <div className="max-w-6xl mx-auto px-6 py-5 flex items-center justify-between">
          <div className="flex items-center">
            {/* Animated SVG logo */}
            <svg
              className="logo logo-anim mr-2"
              viewBox="0 0 48 48"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
              width={36}
              height={36}
            >
              <rect x={4} y={4} width={40} height={40} rx={8} fill="#0369a1" />
              <path d="M14 34L24 14L34 34" stroke="#fff" strokeWidth={3} strokeLinecap="round" strokeLinejoin="round" />
            </svg>

            <div>
              <h1 className="text-2xl font-extrabold">Shivam</h1>
              <p className="text-sm text-gray-600 dark:text-gray-300">Robotics Engineer ‚Äî Perception ¬∑ Control ¬∑ Embedded ¬∑ ROS</p>
            </div>
          </div>

          <nav className="flex gap-4 items-center text-sm">
            <button onClick={() => scrollTo("projects")} className="hover:underline bg-transparent">Projects</button>
            <button onClick={() => scrollTo("skills")} className="hover:underline bg-transparent">Skills</button>
            <button onClick={() => scrollTo("experience")} className="hover:underline bg-transparent">Experience</button>
            <button onClick={() => scrollTo("contact")} className="px-3 py-1 rounded bg-blue-600 text-white">Contact</button>
            <button
              id="themeToggle"
              onClick={() => setDark((d) => !d)}
              className="toggle-btn text-sm border px-2 py-1 rounded"
              aria-label="Toggle theme"
            >
              {dark ? "‚òÄÔ∏è" : "üåô"}
            </button>
          </nav>
        </div>
      </header>

      <main className="max-w-6xl mx-auto px-6 py-12">
        <section className="grid md:grid-cols-2 gap-8 items-center animate-fadeIn">
          <div>
            <h2 className="text-4xl font-extrabold leading-tight">I build robots that see, plan, and act.</h2>
            <p className="mt-4 text-gray-700 dark:text-gray-300">
              I'm a robotics engineer focused on perception, autonomy, and embedded control. I take systems from prototype to
              deployment ‚Äî ROS, SLAM, sensor fusion, deep learning inference on edge devices, motion control and system integration.
            </p>
            <div className="mt-6 flex gap-3">
              <button onClick={() => scrollTo("projects")} className="px-4 py-2 rounded bg-gray-900 text-white text-sm">See projects</button>
              <a href="resume.pdf" className="px-4 py-2 rounded border border-gray-300 text-sm">Download resume</a>
            </div>
          </div>

          <div className="bg-white dark:bg-slate-700 rounded-2xl shadow p-6 animate-fadeInUp">
            <h3 className="font-semibold mb-3">Quick stats</h3>
            <div className="grid grid-cols-2 gap-4">
              <div className="p-3 bg-gray-50 dark:bg-slate-600 rounded"><div className="text-xs">Robots built</div><div className="text-2xl font-bold">4</div></div>
              <div className="p-3 bg-gray-50 dark:bg-slate-600 rounded"><div className="text-xs">SLAM stacks</div><div className="text-2xl font-bold">3</div></div>
              <div className="p-3 bg-gray-50 dark:bg-slate-600 rounded"><div className="text-xs">Edge deployments</div><div className="text-2xl font-bold">2</div></div>
              <div className="p-3 bg-gray-50 dark:bg-slate-600 rounded"><div className="text-xs">Languages</div><div className="text-2xl font-bold">C++, Python</div></div>
            </div>
          </div>
        </section>

        <section id="skills" className="mt-12 animate-fadeIn">
          <h3 className="text-xl font-semibold">Core skills</h3>
          <div className="mt-4 grid sm:grid-cols-2 lg:grid-cols-4 gap-4">
            <div className="p-4 bg-white dark:bg-slate-700 rounded shadow"><h4 className="font-medium">Perception</h4><p className="text-sm mt-2">Camera & LiDAR, depth estimation, detection, segmentation, PCL.</p></div>
            <div className="p-4 bg-white dark:bg-slate-700 rounded shadow"><h4 className="font-medium">ROS & Middleware</h4><p className="text-sm mt-2">ROS1 & ROS2, node architecture, TF, rosbag, lifecycle nodes.</p></div>
            <div className="p-4 bg-white dark:bg-slate-700 rounded shadow"><h4 className="font-medium">Algorithms</h4><p className="text-sm mt-2">SLAM, EKF, UKF, A*, RRT, model predictive control.</p></div>
            <div className="p-4 bg-white dark:bg-slate-700 rounded shadow"><h4 className="font-medium">Embedded & Edge</h4><p className="text-sm mt-2">STM32, ESP32, Jetson, TensorRT, Docker, OpenVINO.</p></div>
          </div>
        </section>

        <section id="projects" className="mt-12 animate-fadeInUp">
          <h3 className="text-xl font-semibold">Highlighted Projects</h3>
          <div className="mt-6 grid md:grid-cols-2 gap-6">
            <div className="bg-white dark:bg-slate-700 p-5 rounded-lg shadow hover:scale-[1.01] transition-transform">
              <h4 className="font-bold">Autonomous Mobile Robot</h4>
              <p className="text-sm mt-2">Full ROS2 stack: LiDAR + camera fusion, ORB-SLAM3 mapping, A* planner, Jetson deploy.</p>
            </div>
            <div className="bg-white dark:bg-slate-700 p-5 rounded-lg shadow hover:scale-[1.01] transition-transform">
              <h4 className="font-bold">Embedded Motor Control + ROS Bridge</h4>
              <p className="text-sm mt-2">STM32 real-time controller with ROS serial bridge and PID auto-tuning.</p>
            </div>
          </div>
        </section>

        <section id="experience" className="mt-12 bg-white dark:bg-slate-700 p-6 rounded shadow animate-fadeIn">
          <h3 className="text-lg font-semibold">GitHub & Workflow</h3>
          <pre className="text-xs bg-gray-100 dark:bg-slate-600 mt-3 p-3 rounded overflow-auto">{`recommended-github-organization/
‚îú‚îÄ perception/
‚îÇ  ‚îú‚îÄ README.md
‚îÇ  ‚îú‚îÄ src/
‚îÇ  ‚îî‚îÄ launch/
‚îú‚îÄ navigation/
‚îÇ  ‚îú‚îÄ README.md
‚îÇ  ‚îî‚îÄ launch/
‚îú‚îÄ firmware/
‚îÇ  ‚îú‚îÄ stm32_project/
‚îÇ  ‚îî‚îÄ docs/
‚îî‚îÄ sim/
   ‚îú‚îÄ world_files/
   ‚îî‚îÄ launch/`}</pre>
        </section>

        <section id="contact" className="mt-12 animate-fadeIn">
          <div className="bg-white dark:bg-slate-700 p-6 rounded shadow">
            <h3 className="text-lg font-semibold">Contact</h3>
            <p className="text-sm mt-2">Email: <a href="mailto:shivam@example.com" className="underline">shivam@example.com</a></p>
            <p className="text-sm">GitHub: <a href="https://github.com/shivamsxt" className="underline">github.com/shivamsxt</a></p>
          </div>
        </section>

        <footer className="mt-12 text-center text-sm text-gray-500">¬© <span>{year}</span> Shivam ‚Äî Robotics Engineer</footer>
      </main>

      {/* Floating contact button */}
      <a className="contact-fab fixed right-5 bottom-5 bg-gradient-to-r from-sky-500 to-sky-700 text-white px-4 py-2 rounded-full shadow-lg flex items-center gap-2" href="mailto:shivam@example.com" aria-label="Contact Shivam">
        <svg xmlns="http://www.w3.org/2000/svg" width={18} height={18} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={2} strokeLinecap="round" strokeLinejoin="round"><path d="M4 4h16v16H4z" /><path d="M22 6l-10 7L2 6" /></svg>
        <span>Contact</span>
      </a>

      {/* Styles (kept local to component for portability) */}
      <style>{`
        .logo { width:36px; height:36px; display:inline-block; vertical-align:middle; margin-right:8px; }
        @keyframes logo-spin { 0% { transform: rotate(0) scale(1); } 50% { transform: rotate(20deg) scale(1.05); } 100% { transform: rotate(360deg) scale(1); } }
        .logo-anim { animation: logo-spin 4s linear infinite; }
        .contact-fab { box-shadow: 0 8px 24px rgba(2,6,23,0.2); }
        .animate-fadeIn { animation: fadeIn 0.6s ease both; }
        .animate-fadeInUp { animation: fadeInUp 0.6s ease both; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }
      `}</style>
    </div>
  );
}

      
